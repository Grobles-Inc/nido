---
import Layout from "../layouts/Page.astro";
import { Image } from "astro:assets";
import aboutImage from "../assets/images/AboutSection.png";
import coreValuesImage from "../assets/images/CoreValues.jpg";
import TeachersSection from "../components/TeachersSection.astro";
---

<Layout
	title="Sobre Nosotros"
	heroImage="https://images.unsplash.com/photo-1740493430383-a0bfff9550a5?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
	description="Ofrecemos un espacio seguro y estimulante donde los niños crecen emocional, social e intelectualmente."
>
	<section class="py-16 px-4 bg-white mx-auto">
		<div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
			<div class="col_1">
				<h3 class="text-4xl md:text-5xl font-bold text-navy-blue mb-6">
					Comprometidos con el Crecimiento<br /> y la Felicidad de tu Hijo
				</h3>

				<p class="text-gray-700 max-w-2xl mb-12">
					En Perulinas, proporcionamos un ambiente seguro, acogedor y alegre
					donde los niños prosperan. Nuestro equipo dedicado está apasionado por
					inspirar el amor por el aprendizaje y la curiosidad en cada niño.
				</p>
			</div>
			<div class="col_2 relative h-full">
				<Image
					src={aboutImage}
					alt="Niños jugando y aprendiendo"
					class="w-full h-full object-cover rounded-2xl"
				/>
			</div>
		</div>
	</section>

	<section class="bg-accent">
		<div
			class="container mx-auto md:py-36 py-16 flex flex-wrap flex-col md:flex-row justify-center md:gap-36 gap-16 text-center"
		>
			<div class="flex flex-col items-center">
				<div class="text-8xl font-bold text-white counter" data-target="10">
					0
				</div>
				<span class="text-base-content">Años de experiencia</span>
			</div>
			<div class="flex flex-col items-center">
				<div class="text-8xl font-bold text-white counter" data-target="200">
					0
				</div>
				<span class="text-base-content">Familias felices</span>
			</div>
			<div class="flex flex-col items-center">
				<div class="text-8xl font-bold text-white counter" data-target="95">
					0
				</div>
				<span class="text-base-content">Satisfacción de padres</span>
			</div>
			<div class="flex flex-col items-center">
				<div class="text-8xl font-bold text-white counter" data-target="15">
					0
				</div>
				<span class="text-base-content">Colaboradores</span>
			</div>
		</div>
	</section>

	<section
		class="container mx-auto px-6 py-24 grid md:grid-cols-2 gap-8"
		data-aos="fade-up"
	>
		<div class="bg-purple-100 rounded-3xl shadow p-12">
			<h3 class="text-6xl font-bold text-primary mb-8">Nuestra Misión</h3>
			<p>
				Promover el desarrollo del aprendizaje y la creatividad desde la
				infancia, siendo pioneros de metodologías y prácticas pedagógicas,
				innovadoras e integrales, que resulten accesibles y beneficiosas para
				las personas.
			</p>
		</div>
		<div class="bg-orange-100 rounded-3xl shadow p-12">
			<h3 class="text-6xl font-bold text-primary mb-8">Nuestra Visión</h3>
			<p>
				Ser uno de los mayores referentes de educación infantil, reconocida por
				sentar las bases de nuevos modelos educativos capaces de formar en los
				niños mentes ágiles y creativas, además de expandir nuestra propuesta
				educativa en un corto plazo de tiempo a más zonas de Lima y el Perú.
			</p>
		</div>
	</section>

	<section class="container mx-auto px-4 py-12" data-aos="fade-up">
		<div class="space-y-4">
			<h3 class="text-2xl md:text-3xl uppercase text-center text-accent">
				Lo que nos distingue
			</h3>
			<h2 class="text-4xl md:text-6xl font-bold text-center text-primary">
				Nuestro Core de Diferenciación
			</h2>
			<h4 class="text-center text-xl">
				Nos esforzamos por alcanzar los más altos estándares en todo lo que
				hacemos.
			</h4>
		</div>
		<div class="flex flex-col md:flex-row gap-8 mt-16 items-center">
			<Image
				src={coreValuesImage}
				alt="Niños jugando"
				class="w-full h-full object-cover"
			/>

			<div class="grid md:grid-cols-2 grid-cols-1 gap-5">
				<div class="flex flex-col items-center">
					<img
						src="https://img.icons8.com/?size=200&id=24730&format=png&color=000000"
						alt="Excelencia"
						class="w-20 h-20 bg-blue-100 rounded-full p-5"
					/>
					<h4 class="font-bold text-4xl text-primary">Excelencia</h4>
					<p class="text-center">
						Servicio excepcional y personalizado para cada niño y familia.
					</p>
				</div>
				<div class="flex flex-col items-center">
					<img
						src="https://img.icons8.com/?size=100&id=79142&format=png&color=000000"
						alt="Innovación"
						class="w-20 h-20 bg-orange-100 rounded-full p-5"
					/>
					<h4 class="font-bold text-4xl text-primary">Innovación</h4>
					<p class="text-center">
						Promovemos la innovación en nuestras prácticas y metodologías
						educativas.
					</p>
				</div>
				<div class="flex flex-col items-center">
					<img
						src="https://img.icons8.com/?size=100&id=36728&format=png&color=000000"
						alt="Integridad"
						class="w-20 h-20 bg-yellow-100 rounded-full p-5"
					/>
					<h4 class="font-bold text-4xl text-primary">Integridad</h4>
					<p class="text-center">
						Preparamos a los niños para el futuro, con un enfoque integral,
						emocional e intelectual.
					</p>
				</div>
				<div class="flex flex-col items-center">
					<img
						src="https://img.icons8.com/?size=100&id=BWTtWf1TESVQ&format=png&color=000000"
						alt="Accesibilidad"
						class="w-20 h-20 bg-green-100 rounded-full p-5"
					/>
					<h4 class="font-bold text-4xl text-primary">Accesibilidad</h4>
					<p class="text-center">
						Para todas las familias, independientemente de su situación
						económica o geográfica.
					</p>
				</div>
			</div>
		</div>
	</section>

	<TeachersSection />
</Layout>

<script>
	import { gsap } from "gsap";
	import { ScrollTrigger } from "gsap/ScrollTrigger";

	gsap.registerPlugin(ScrollTrigger);

	const animateCounter = (element: HTMLElement) => {
		const target = parseInt(element.getAttribute("data-target") || "0");

		gsap.fromTo(
			element,
			{ innerText: "0" },
			{
				innerText: target,
				duration: 2,
				ease: "power2.out",
				snap: { innerText: 1 },
				scrollTrigger: {
					trigger: element,
					start: "top 80%",
				},
				onUpdate: function () {
					element.innerText = Math.floor(Number(element.innerText)) + "+";
				},
			},
		);
	};

	// Animate all counters when they come into view
	document.querySelectorAll(".counter").forEach((counter) => {
		animateCounter(counter as HTMLElement);
	});
	let col_1 = document.querySelector(".col_1");
	let col_2 = document.querySelector(".col_2");
	gsap.from(col_1, {
		opacity: 0,
		y: -100,
		duration: 1,
		scrollTrigger: {
			trigger: col_1,
			start: "top 80%",
			toggleActions: "play none none none", // Ensures the animation only plays once
		},
	});
	gsap.from(col_2, {
		opacity: 0,
		x: 100,
		duration: 1,
		scrollTrigger: {
			trigger: col_2,
			start: "top 80%",
			toggleActions: "play none none none",
		},
	});
</script>
